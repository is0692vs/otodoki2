# このファイルをコピーして .env を作成し、必要に応じて値を設定してください。
# otodoki2web アプリケーションのバックエンド設定用環境変数です。

# ======================================================================
# API & General Settings
# ======================================================================

# CORSで許可するオリジン（フロントエンドのURL）をカンマ区切りで指定します。
# デフォルト: http://localhost:3000
ORIGINS=http://localhost:3000

# 楽曲提案APIの1秒あたりのリクエスト上限数。
# デフォルト: 20
OTODOKI_RATE_LIMIT_PER_SEC=20

# 楽曲提案APIで一度に返すデフォルトの楽曲数。
# デフォルト: 10
OTODOKI_SUGGESTIONS_DEFAULT_LIMIT=10

# 楽曲提案APIで一度に返す最大の楽曲数。
# デフォルト: 50
OTODOKI_SUGGESTIONS_MAX_LIMIT=50


# ======================================================================
# Worker & Queue Settings (iTunesからの楽曲取得)
# ======================================================================

# 楽曲検索に利用する戦略。
# 指定可能な値: random_keyword, genre_search, release_year_search, artist_search, gemini_keyword
# デフォルト: random_keyword
OTODOKI_SEARCH_STRATEGY=random_keyword

# 'gemini_keyword' 戦略を使用する場合に設定するGoogle Gemini APIキー。
# この戦略を使わない場合は空で問題ありません。
GEMINI_API_KEY=

# iTunes APIで楽曲を検索する際のキーワード（'random_keyword' 戦略で使用）。
# カンマ区切りで指定します。
# デフォルト: さくら,YOASOBI,米津玄師,あいみょん,Official髭男dism
OTODOKI_ITUNES_TERMS=さくら,YOASOBI,米津玄師,あいみょん,Official髭男dism

# iTunes API検索の対象国コード (例: JP, US)。
# デフォルト: JP
OTODOKI_COUNTRY=JP

# キューに保持する楽曲の最小数。この値を下回ると補充が開始されます。
# デフォルト: 30
OTODOKI_MIN_THRESHOLD=30

# 一度の補充でキューに追加を試みる楽曲の数。
# デフォルト: 30
OTODOKI_BATCH_SIZE=30

# キューの最大容量。これを超えた楽曲は古いものから破棄されます。
# デフォルト: 300
OTODOKI_MAX_CAP=300

# キューの監視間隔（ミリ秒）。
# デフォルト: 1500
OTODOKI_POLL_INTERVAL_MS=1500

# iTunes APIへのHTTPリクエストのタイムアウト時間（秒）。
# デフォルト: 5.0
OTODOKI_HTTP_TIMEOUT_S=5.0

# iTunes APIリクエストの最大リトライ回数。
# デフォルト: 3
OTODOKI_RETRY_MAX=3

# 'genre_search' 戦略で利用するジャンル（カンマ区切り）。
# デフォルト: J-POP,Rock,Anime,Jazz,Classic,Pop,Electronic,Hip-Hop
OTODOKI_SEARCH_GENRES=J-POP,Rock,Anime,Jazz,Classic,Pop,Electronic,Hip-Hop

# 'release_year_search' 戦略で利用するリリース年（カンマ区切り）。
# デフォルト: 2020,2021,2022,2023,2024
OTODOKI_SEARCH_YEARS=2020,2021,2022,2023,2024
