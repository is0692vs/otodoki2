# `frontend/src/services/` ディレクトリの AGENT ルール

このディレクトリには、バックエンド API との通信を行うクライアントコードや、その他の外部サービス連携ロジックが含まれます。

## 構造と役割

- `api-client.ts`: バックエンド API との通信を抽象化するクライアント。
- `index.ts`: サービス層のエントリポイント。
- `README.md`: このディレクトリに関する README。
- `types.ts`: サービス間で共有される型定義。

## 主要なコンポーネント

- `api-client.ts`: バックエンドの FastAPI エンドポイントとの通信を担当します。認証関連のアクセストークン付与に加え、`/api/v1/evaluations` や `/api/v1/history/played` など評価・再生履歴の永続化 API をラップしています。
- `types.ts`: 認証レスポンスに加え、評価や再生履歴を表現する型（`EvaluationStatus`, `PlayHistoryResponse` など）を定義します。

## AI エージェントへの指示

- バックエンド API との新しいエンドポイント連携が必要な場合は、`api-client.ts` を更新してください。クライアント生成ヘルパーの再利用と、既存エンドポイントのエラーハンドリングスタイルを踏襲してください。
- サービス間で共有される新しい型定義が必要な場合は、`types.ts` に追加してください。既存の評価・履歴関連の型定義を参考に、一貫した命名 (Request/Response/Payload) を行ってください。
