# `backend/app/` ディレクトリのAGENTルール

このディレクトリには、FastAPI アプリケーションの主要なソースコードが含まれています。

## 構造と役割

- `__init__.py`: Pythonパッケージとして認識させるためのファイル。
- `dependencies.py`: FastAPIの依存性注入に関する定義が含まれます。
- `main.py`: FastAPIアプリケーションのエントリポイント。APIルートの定義とアプリケーションの初期化を行います。
- `core/`: アプリケーションのコアとなる設定や共通ロジックが含まれます。
- `models/`: アプリケーションのデータモデル（Pydanticモデルなど）が定義されます。
- `services/`: ビジネスロジックや外部サービスとの連携を行うサービス層のコードが含まれます。

## 主要なコンポーネント

- `main.py`: アプリケーションの起動とルーティングを担います。
- `core/config.py`: アプリケーション全体の設定値を管理します。
- `services/itunes_api.py`: iTunes Search API との連携を担当します。
- `services/worker.py`: バックグラウンドで楽曲データを補充するワーカーです。

## AIエージェントへの指示

- 新しいAPIエンドポイントを追加する場合は、`main.py` にルーティングを定義し、必要に応じて新しいサービスやモデルを作成してください。
- 既存のAPIのロジックを変更する場合は、関連するサービスファイル (`services/` ディレクトリ内) を修正してください。
- データ構造を変更する場合は、`models/` ディレクトリ内の該当するモデルを更新してください。
- アプリケーションの共通設定を変更する場合は、`core/config.py` を参照してください。