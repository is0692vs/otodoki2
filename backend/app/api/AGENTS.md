# `backend/app/api/` ディレクトリの AGENT ルール

このディレクトリでは FastAPI の API ルーターと依存関係の集約を担当します。アプリケーションの外部公開インターフェースを構造化して管理し、`app/main.py` からインポートされます。

## 構造指針

- `deps.py`: API レイヤー専用の依存性（例: 認証トークン検証、現在のユーザー取得）を定義します。
- `routes/`: API エンドポイントを機能ごとにモジュール化して配置します。エンドポイントは `APIRouter` を用いて宣言し、`__all__` を通じて公開してください。
- `__init__.py`: ルーターのエクスポートや共通定数を定義するために利用します。

## AI エージェントへの指示

- 新しいエンドポイントを追加する場合は、`routes/` 以下にモジュールを作成し、`app/main.py` で `include_router` されるようにしてください。
- 認証・認可など API 固有の依存性は `deps.py` に定義し、ルーターから利用してください。
- 破壊的変更を伴う場合は、関連するスキーマやフロントエンド実装、ドキュメントの更新も忘れずに対応してください。
