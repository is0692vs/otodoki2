# `backend/app/api/routes/` ディレクトリの AGENT ルール

このディレクトリには FastAPI の `APIRouter` を用いたエンドポイント定義を機能単位で配置します。各モジュールは単一責任に従い、認証、評価、設定などのドメインごとに分割してください。

## 構造指針

- ルーターごとに `router = APIRouter(...)` を宣言し、`__all__` で公開すること。
- ルーターが利用する依存性は `app.api.deps` を通じて提供してください。
- ルーター内ではサービス層（`app.services.*`）や CRUD ヘルパーを呼び出し、ビジネスロジックをコントローラから切り離してください。

## AI エージェントへの指示

- 新しい API を追加する際は、既存のルーティング構造に合わせてファイルを作成し、`app/api/__init__.py` でエクスポートしてください。
- レスポンスモデルやバリデーションは `app.schemas` 内の Pydantic モデルを活用し、型安全性を確保してください。
- 認証が必要なルートでは `Depends(get_current_user)` などの依存性を忘れずに設定してください。
